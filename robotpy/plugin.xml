<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
    <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="WPILib Robot Java Development"
            id="io.github.robotpy.plugins.robotpy">
      </category>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.newproject.NewRobotpyWizard"
            icon="resources/icons/wpi.ico"
            id="io.github.robotpy.plugins.robotpy.wizards.newproject.NewJavaWizard"
            name="Robot Java Project"
            project="true">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.examples.ExampleRobotpyWizard"
            icon="resources/icons/wpi.ico"
            id="io.github.robotpy.plugins.robotpy.wizards.examples.ExampleWizard"
            name="Example Robot Java Project"
            project="true">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandWizard"
            icon="resources/icons/Command.png"
            id="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandWizard"
            name="Command">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandGroupWizard"
            icon="resources/icons/CommandGroup.png"
            id="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandGroupWizard"
            name="CommandGroup">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.file_template.SubsystemWizard"
            icon="resources/icons/Subsystem.png"
            id="io.github.robotpy.plugins.robotpy.wizards.file_template.SubsystemWizard"
            name="Subsytem">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.file_template.PIDSubsystemWizard"
            icon="resources/icons/PIDSubsystem.png"
            id="io.github.robotpy.plugins.robotpy.wizards.file_template.PIDSubsystemWizard"
            name="PIDSubsystem">
      </wizard>
      <wizard
            category="io.github.robotpy.plugins.robotpy"
            class="io.github.robotpy.plugins.robotpy.wizards.file_template.TriggerWizard"
            icon="resources/icons/Button.png"
            id="io.github.robotpy.plugins.robotpy.wizards.file_template.TriggerWizard"
            name="Trigger">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <commonWizard
            menuGroupId="io.github.robotpy.plugins.robotpy"
            type="new"
            wizardId="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandWizard">
         <enablement>
      	   <with variable="selection"><iterate>
               <and>
                    <test
                        args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                    <test
						args="org.python.pydev.pythonNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                </and>
           </iterate></with>
         </enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="io.github.robotpy.plugins.robotpy"
            type="new"
            wizardId="io.github.robotpy.plugins.robotpy.wizards.file_template.CommandGroupWizard">
         <enablement>
      	   <with variable="selection"><iterate>
               <and>
                    <test
                        args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                    <test
						args="org.python.pydev.pythonNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                </and>
           </iterate></with>
         </enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="io.github.robotpy.plugins.robotpy"
            type="new"
            wizardId="io.github.robotpy.plugins.robotpy.wizards.file_template.SubsystemWizard">
         <enablement>
      	   <with variable="selection"><iterate>
               <and>
                    <test
                        args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                    <test
						args="org.python.pydev.pythonNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                </and>
           </iterate></with>
         </enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="io.github.robotpy.plugins.robotpy"
            type="new"
            wizardId="io.github.robotpy.plugins.robotpy.wizards.file_template.PIDSubsystemWizard">
         <enablement>
      	   <with variable="selection"><iterate>
               <and>
                    <test
                        args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                    <test
						args="org.python.pydev.pythonNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                </and>
           </iterate></with>
         </enablement>
      </commonWizard>
      <commonWizard
            menuGroupId="io.github.robotpy.plugins.robotpy"
            type="new"
            wizardId="io.github.robotpy.plugins.robotpy.wizards.file_template.TriggerWizard">
         <enablement>
      	   <with variable="selection"><iterate>
               <and>
                    <test
                        args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                    <test
						args="org.python.pydev.pythonNature"
                        property="org.eclipse.jdt.launching.hasProjectNature">
                    </test>
                </and>
           </iterate></with>
         </enablement>
      </commonWizard>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="io.github.robotpy.plugins.robotpy.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            class="io.github.robotpy.plugins.robotpy.launching.DeployLaunchShortcut"
            description="Deploy the WPILib project to the roboRIO"
            icon="resources/icons/wpi.ico"
            id="io.github.robotpy.plugins.robotpy.launching.deploy"
            label="WPILib Java Deploy"
            modes="run,debug">
            <contextualLaunch>
            <enablement>
               <with
                     variable="selection">
                  <iterate>
                     <and>
                        <test
                            args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                            property="org.eclipse.jdt.launching.hasProjectNature">
                        </test>
                        <test
                            args="org.python.pydev.pythonNature"
                            property="org.eclipse.jdt.launching.hasProjectNature">
                        </test>
                     </and>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
         <description
               description="Deploy the WPILib project to the roboRIO board."
               mode="run">
         </description>
         <description
               description="Deploy the WPILib project to the roboRIO board and debug it."
               mode="debug">
         </description>
      </shortcut>
      <shortcut
            class="io.github.robotpy.plugins.robotpy.launching.SimulateLaunchShortcut"
            description="Test your WPILib program with the Gazebo simulator."
            icon="resources/icons/Gazebo.png"
            id="io.github.robotpy.plugins.robotpy.launching.simulate"
            label="WPILib Java Simulation"
            modes="run,debug">
            <contextualLaunch>
            <enablement>
               <with
                     variable="selection">
                  <iterate>
                     <and>
                        <test
                            args="edu.wpi.first.wpilib.plugins.core.nature.FRCProjectNature"
                            property="org.eclipse.jdt.launching.hasProjectNature">
                        </test>
                        <test
                            args="org.python.pydev.pythonNature"
                            property="org.eclipse.jdt.launching.hasProjectNature">
                        </test>
                     </and>
                  </iterate>
               </with>
            </enablement>
         </contextualLaunch>
         <description
               description="Test your WPILib program with the Gazebo simulator."
               mode="run">
         </description>
         <description
               description="Test your WPILib program with the Gazebo simulator and use the debugger to debug."
               mode="debug">
         </description>
      </shortcut>
   </extension>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="io.github.robotpy.plugins.robotpy.WPILibPythonPlugin">
      </startup>
   </extension>
</plugin>
